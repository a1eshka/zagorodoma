{% extends 'base.html' %}
{% block content %}

{% if user.id == user.id %}
{% include 'profile/menu.html' %}
    <!-- Sidenav END -->

      <!-- Main content START -->
      <div class="col-lg-6 vstack gap-4">
        <!-- Setting Tab content START -->
        <div class="tab-content py-0 mb-0">

          <!-- Account setting tab START -->
          <div class="tab-pane show active fade" id="nav-setting-tab-1">
            <!-- Account settings START -->
            <div class="card-profile mb-4" style="margin-top: 8px;box-shadow: 0 10px 20px #0000000a, 0 2px 6px #0000000a, 0 0 1px #0000000a;">
              
              <!-- Title START -->
              <div class="card-profile-header border-0 pb-0">
                <h1 class="h5 card-title" style="font-weight: 700;">Мои объявления</h1>
                <p class="mb-0"></p>
              </div>
              <hr style="color:#e3e0e0;">
              <!-- Card header START -->
              <!-- Card body START -->
            <div class="card-body">

                {% for my_post in my_post %}
                <div class="card">
                  <div class="card-body">
                    {% for all_images in my_post.all_images.all %}
                    <img src="{{ all_images.image_data_link.url }}" class="rounded" style="height: 150px; width: 200px;" alt="продукт">
                  {% endfor %}
                    <div>{{ my_post.type_object}} · {% if my_post.square %} {{my_post.square|default_if_none:""}} м² ·{% endif %} {{my_post.land_area }} сот. · {{my_post.land_status}}</div>
                    <div>{{ my_post.price }} ₽</div>
                    <small class="text-muted">{{my_post.created_at}}</small>
                  </div>
                </div>    
                {% endfor %}

            </div>
{% endif %}



<script type="text/javascript">
 
  $('.slider').slick({
    accessibility: true,
    arrows: true,
    prevArrow: '<div class="carousel-control-prev"><span class="carousel-control-prev-icon" aria-hidden="true"></span></div>',
    nextArrow: '<div class="carousel-control-next"><span class="carousel-control-next-icon" aria-hidden="true"></span></div>',
    dots: true,
    autoplay: false,
  });


  $('.price-main-card').text((i, text) => {
  const [ price, currency ] = text.split(' ');
  return `${(+price).toLocaleString()} ${currency}`;
});
</script>
{% endblock content %}